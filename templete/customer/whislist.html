{% extends 'customer/base.html' %}
{% load static %}

{% block link_block %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="{% static 'customer/wishlist.css' %}">
<link rel="stylesheet" href="{% static 'footer.css' %}">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

{% endblock %}

{% block body_content %}
{% include 'customer/custmor_nav.html' %}
<h3 class="text-center text-secondary mt-3">My Wishlist</h3>
    

<div class="container my-5">
    {% if products %}
        {% for product in products %}
        <div class="wishlist-item">
            <div class="row g-0">
                <div class="col-md-4">
                    <div class="wishlist-img">
                        <img src="{{product.product.image_1.url}}" alt="{{product.product.product_name}}">
                    </div>
                </div>
                <div class="col-md-8">
                    <div class="wishlist-content">
                        <div>
                            <h3>{{product.product.product_name}}</h3>
                            <p class="price text-secondary">{{product.product.price}} Rs</p>
                            <p class="price text-secondary">Offer/{{product.product.offer_price}} Rs</p>
                            <div style="display: flex; align-items: center; background-color: #f0f0f0; border-radius: 8px; padding: 10px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); transition: all 0.3s ease;">
                                <span style="font-size: 24px; margin-right: 10px; color: #0a4322;">&#128230;</span>
                                <div>
                                    <p style="margin: 0; font-size: 14px; color: #567253;">Size Variant:</p>
                                    <p style="margin: 0; font-size: 18px; font-weight: bold; color: #0a4322;">{{product.product.product_size}}</p>
                                </div>
                            </div>
                            {% if  product.product.quantity < 6 and product.product.quantity != 0  %}
                            <p class=" text-danger">Product has limited Quantity !</p>
                            {% endif %}
                            {% if  product.product.quantity == 0 %}
                            <p class=" text-danger">Product not Avalilable !</p>
                            {% endif %}
                        </div>
                        <div class="d-flex justify-content-between align-items-center mt-3">
                            <a href="{% url 'customer:add_to_cart' product.product.id %}" class="btn btn-primary">
                                <i class="bi bi-cart-plus me-2"></i>View
                            </a>
                            <a href="{% url 'customer:wishlist' product.id %}" class="delete-icon-wrapper">
                                <i class="bi bi-trash delete-icon"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    {% else %}
        <div class="alert alert-success" role="alert">
            <i class="bi bi-info-circle me-2"></i>Your wishlist is empty. Start adding products you love!
        </div>
        <div style="height:50vh;"></div>
    {% endif %}
</div>

{% include 'footer.html' %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
{% if messages %}
{% for msg in messages %}
<script>
    Toastify({
        text: "{{ msg }}",
        className: "info",
        style: {
            background: "linear-gradient(to right, var(--primary-color), var(--secondary-color))",
        }
    }).showToast();
</script>
{% endfor %}
{% endif %}
{% endblock %}