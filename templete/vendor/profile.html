{% extends 'vendor/base.html' %}
{% load static %}


{% block link_vblock %}
<link rel="stylesheet" href="{% static 'customer/profile.css' %}">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">

{% endblock %}

{% block vbody_content %}
{% include 'vendor/vendor_nav.html' %}
<nav class="navbar seccond_nav" style=" background-color:rgb(249, 247, 247)">
    <div class="container-fluid">
      <a class="navbar-brand text-secondary"><b>Vendor profile</b></a>
      <a class="btn btn-outline-success" href="{% url 'logout' %}">Logout</a>
    </div>
  </nav>


  <div class="container">
    <div class="row">
        <!-- Left Section: Links -->
        <div class="col-md-4 side-links">
            <h4 class="text-secondary">Navigation</h4><br>
            <a href="{% url 'v_home'%}" class="link" href="">Dashboard</a>

            <hr>
            <a class="link" href="{% url 'vendor:sales_report' %}">Sales Report</a>
            <hr>
           
        </div>

        <!-- Right Section: Profile Form -->
        <div class="col-md-8">
            <div class="profile-container">
                <h2 class="text-center text-secondary mb-4">Update Profile</h2>
                <form action="{% url 'vendor:vendorprofile' %}" method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    <!-- Profile Photo -->
                    <div>
                    <div class="photo">
                        {% if not vendor.photo %}
                            <img src="{% static 'images/download.jpg' %}" alt="Profile Photo" class="profile-photo" id="displayPhoto">
                        {% else %}
                            <img src="{{ vendor.photo.url }}" alt="Profile Photo" class="profile-photo" id="displayPhoto">
                        {% endif %}
                    </div>
                        <div class="mt-3">
                            <label for="uploadimage" class="form-label">Upload Image</label>
                            {{ form.photo }}
                            <small class="text-danger">{{form.photo.errors }}</small>
                        </div>
                    </div>

                    <!-- Update Form Fields -->
                    <div class="mb-3">
                        <label for="email" class="form-label">Email ID</label>
                        <p class="text-secondary">{{ user.email }}</p>
                    </div>
                    <div class="mb-3">
                        <label for="addressUpdate" class="form-label">licence</label>
                       
                        {% if vendor.license %}
                        <small class="text-secondary">you already have licence</small>
                        {% else %}
                       
                        <small class="text-danger">you haven't licence please upload</small>
                        {% endif %}
                        
                    </div>
                    <div class="mb-3">
                        <label for="fullName" class="form-label">Full Name</label>
                        {{form.full_name}}
                        <small class="text-danger">{{form.full_name.errors }}</small>
                    </div>
                    <div class="mb-3">
                        <label for="phoneNumber" class="form-label">Phone Number</label>
                        {{form.phone_number }}
                        <small class="text-danger">{{form.phone_number.errors }}</small>
                    </div>
                    <div class="mb-3">
                        <label for="passwordReset" class="form-label">Password</label>
                        <a href="{% url 'vendor:vendor_auth' user.id %}" id="passwordReset" class="link p-3">Reset Password</a>
                    </div>
                    <div class="mb-3">
                        <label for="addressUpdate" class="form-label">Address</label>
                        {{form.address}}
                        <small class="text-danger">{{form.address.errors }}</small>
                    </div>

                    <!-- Submit Button -->
                    <button type="submit" class="btn btn-success w-100">Update Profile</button>
                </form>
            </div>
        </div>
    </div>
</div>
{% include 'footer.html' %}
<!-- Script for Photo Preview -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
{% if messages %}
{% for msg in messages %}
<script>
    Toastify({
        text: "{{msg}}",
        className: "info",
        style: {
          background: "linear-gradient(to right, #00b09b, #96c93d)",
        }
      }).showToast();
</script>
{% endfor %}
{% endif %}

{% endblock %}



